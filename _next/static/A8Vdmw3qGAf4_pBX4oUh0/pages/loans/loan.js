(window.webpackJsonp=window.webpackJsonp||[]).push([["9615"],{"0se9":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/loans/loan",function(){var e=n("qK8O");return{page:e.default||e}}])},"5Ptj":function(e,t,n){"use strict";function a(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="-"===e[0],a=n&&t,r=(e=e.replace("-","")).split(".");return{beforeDecimal:r[0],afterDecimal:r[1]||"",hasNagation:n,addNegation:a}}function o(e,t,n){for(var a="",r=n?"0":"",o=0;o<=t-1;o++)a+=e[o]||r;return a}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[-[\]\/{}()*+?.\\^$|]/g,"\\$&")},t.getThousandsGroupRegex=a,t.applyThousandSeparator=function(e,t,n){var r=a(n),o=e.search(/[1-9]/);return e.substring(0,o)+e.substring(o,e.length).replace(r,"$1"+t)},t.splitDecimal=r,t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),a=n[0].replace(/^0+/,"")||"0",r=n[1]||"";return"".concat(t?"-":"").concat(a).concat(r?".".concat(r):"")},t.limitToScale=o,t.roundToPrecision=function(e,t,n){if(-1!==["","-"].indexOf(e))return e;var a=-1!==e.indexOf(".")&&t,i=r(e),l=i.beforeDecimal,u=i.afterDecimal,s=i.hasNagation,c=parseFloat("0.".concat(u||"0")).toFixed(t).split("."),f=l.split("").reverse().reduce(function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e},c[0]),p=o(c[1]||"",Math.min(t,u.length),n),d=a?".":"";return"".concat(s?"-":"").concat(f).concat(d).concat(p)},t.omit=function(e,t){var n={};return Object.keys(e).forEach(function(a){t[a]||(n[a]=e[a])}),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}},t.findChangedIndex=function(e,t){var n=0,a=0,r=e.length,o=t.length;for(;e[n]===t[n]&&n<r;)n++;for(;e[r-1-a]===t[o-1-a]&&o-a>n&&r-a>n;)a++;return{start:n,end:r-a}},t.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)},t.getCurrentCaretPosition=function(e){return Math.max(e.selectionStart,e.selectionEnd)}},"8kid":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("jCe7");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var l=function(e){return r.a.createElement(o.a,i({viewBox:"0 0 24 24",a11yTitle:"LinkPrevious"},e),r.a.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M2,12 L22,12 M13,3 L22,12 L13,21",transform:"matrix(-1 0 0 1 24 0)"}))},u=n("YFqc"),s=n.n(u);n.d(t,"a",function(){return c});var c=function(e){return r.a.createElement(s.a,{href:e.href},r.a.createElement(l,{style:{cursor:"pointer"}}))}},Bodc:function(e,t,n){"use strict";var a=n("rt45"),r=n("q1tI"),o=n.n(r);function i(){var e=Object(a.a)(["\n  display: inline-block;\n  padding: 2px 6px;\n  border-radius: 20px;\n  border: 1px solid #808080;\n  line-height: 12px;\n  font-size: 12px;\n  color: #808080;\n"]);return i=function(){return e},e}var l=n("vOnD").default.div(i());t.a=function(e){return o.a.createElement(l,e,e.text)}},"H/fR":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u});var a=n("OZ/i"),r=n.n(a),o=n("UIRo").a.etherscanUrl,i=function(e){return"".concat(o,"/address/").concat(e)},l=function(e,t){return"".concat(o,"/token/").concat(t,"?a=").concat(e)},u=function(e){return new r.a(e.replace(/^0x/,""),16).toString()}},Ks3v:function(e,t,n){"use strict";n.d(t,"a",function(){return k});var a=n("q1tI"),r=n.n(a),o=n("vOnD"),i=n("bkVA"),l=n("otPn"),u=n("463D"),s=n("XDYV"),c=n("shMu");function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var d={theme:{global:{colors:{icon:"#666666"}},icon:{size:{small:"12px",medium:"24px",large:"48px",xlarge:"96px"}}}},m=function(e,t,n,a){return Object(o.css)(["",":",";"],e,function e(t,n){var a=n.global.colors[t]||t,r=a;return n.dark&&a.dark?r=a.dark:!n.dark&&a.light&&(r=a.light),r&&n.global.colors[r]&&n.global.colors[r]!==r&&(r=e(r,n)),r}(t,n))};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var g=Object(o.css)([""," ",' g{fill:inherit;stroke:inherit;}*:not([stroke]){&[fill="none"]{stroke-width:0;}}*[stroke*="#"],*[STROKE*="#"]{stroke:inherit;fill:none;}*[fill-rule],*[FILL-RULE],*[fill*="#"],*[FILL*="#"]{fill:inherit;stroke:none;}'],function(e){return m("fill",e.color||e.theme.global.colors.icon,e.theme)},function(e){return m("stroke",e.color||e.theme.global.colors.icon,e.theme)}),v=function(e){var t=e.a11yTitle,n=(e.color,e.size,e.theme,function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["a11yTitle","color","size","theme"]));return r.a.createElement("svg",h({"aria-label":t},n))};v.displayName="Icon";var b=Object(o.default)(v).withConfig({displayName:"StyledIcon",componentId:"ofa7kd-0"})(["display:inline-block;flex:0 0 auto;"," "," ",""],function(e){var t=e.size,n=void 0===t?"medium":t,a=e.theme;return"\n    width: "+(a.icon.size[n]||n)+";\n    height: "+(a.icon.size[n]||n)+";\n  "},function(e){return"plain"!==e.color&&g},function(e){var t=e.theme;return t&&t.icon.extend});function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}b.defaultProps={},Object.setPrototypeOf(b.defaultProps,d);var O=Object(o.default)(l.a).withConfig({displayName:"DisplayField__DisplayFieldBox",componentId:"lfek92-0"})(["&{padding:2px 0px;.display_field_text{overflow:hidden;display:block;white-space:nowrap;text-overflow:ellipsis;}.display_field_text:after{content:'';display:inline-block;}a,a:hover{text-decoration:none;}a.display_field_anchor{overflow:hidden;}a.icon_anchor{svg{vertical-align:middle;}}}",""],function(e){return e.theme.displayField&&e.theme.displayField.extend}),x=Object(o.default)(l.a).withConfig({displayName:"DisplayField__LabelBox",componentId:"lfek92-1"})([""]),w=function(e){var t=e.value,n=e.valueToCopy,a=e.link,o=e.label,i=e.as,f=void 0===i?"p":i,d=e.copy,m=e.theme.displayField,h=m.labelBox,g=m.labelText,v=m.anchor,b=m.icons;return r.a.createElement(O,null,r.a.createElement(function(e){var t=e.label,n=e.children;return t?r.a.createElement(x,h,r.a.createElement(s.a,p({},g,{as:"label"}),t),n):n},{label:o},r.a.createElement(function(e){var a=e.children;return d?r.a.createElement(l.a,{direction:"row",align:"center",gap:"xsmall"},a,r.a.createElement(u.a,{className:"icon_anchor",onClick:function(){Object(c.a)(n||t)},title:"Copy to clipboard"},r.a.createElement(b.copy,{size:b.size}))):a},null,r.a.createElement(function(e){var t=e.link,n=e.children;return t?r.a.createElement(u.a,p({className:"display_field_anchor"},v,"string"==typeof t?{href:t}:t),n):n},{link:a},r.a.createElement(s.a,{as:f,className:"display_field_text"},t)))))},E={displayField:{labelBox:{border:{side:"bottom",color:"light-4"}},anchor:{color:"brand"},icons:{copy:function(e){return r.a.createElement(b,y({viewBox:"0 0 24 24",a11yTitle:"Copy"},e),r.a.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M9,15 L17,15 L9,15 Z M9,11 L19,11 L9,11 Z M9,7 L13,7 L9,7 Z M16,1 L16,7 L22,7 M6,5 L2,5 L2,23 L18,23 L18,19 M22,19 L6,19 L6,1 L17,1 L22,6 L22,19 L22,19 Z"}))},size:"small"}}};Object(i.extendDefaultTheme)(E),w.defaultProps=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){f(e,t,n[t])})}return e}({},i.defaultProps);var k=Object(o.withTheme)(w)},YwDK:function(e,t,n){"use strict";var a=n("rt45"),r=n("0iUn"),o=n("sLSF"),i=n("MI3g"),l=n("a7VT"),u=n("Tit0"),s=n("q1tI"),c=n("ACV0"),f=n("otPn"),p=n("vOnD"),d=n("Bodc"),m=n("Ks3v"),h=n("H/fR"),g=n("1OXE");function v(){var e=Object(a.a)(["\n  margin: 56px 0;\n  padding: 20px;\n  border-radius: 3px;\n  background: #f7f7f7;\n"]);return v=function(){return e},e}var b=function(e){function t(){return Object(r.default)(this,t),Object(i.default)(this,Object(l.default)(t).apply(this,arguments))}return Object(u.default)(t,e),Object(o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=t.registry,a=t.tokenId,r=t.nftOwner,o=e.authedAddr;return s.createElement(y,null,s.createElement(c.a,{level:"5",margin:"none"},"NFT Data"),s.createElement(f.a,{direction:"row",gap:"medium",margin:{bottom:"large",top:"medium"}},s.createElement(f.a,{basis:"1/3",gap:"medium"},s.createElement(m.a,{label:"NFT ID",copy:!0,as:"span",value:Object(h.c)(Object(g.b)(a).toString()),link:{href:Object(h.b)(Object(h.c)(Object(g.b)(a).toString()),n),target:"_blank"}})),s.createElement(f.a,{basis:"1/3",gap:"medium"},s.createElement(m.a,{label:"NFT registry",copy:!0,as:"span",value:n,link:{href:Object(h.a)(n),target:"_blank"}})),s.createElement(f.a,{basis:"1/3",gap:"medium"},s.createElement(m.a,{label:"NFT Owner",copy:!0,as:"span",value:r,link:{href:Object(h.a)(r),target:"_blank"}}),o===r&&s.createElement(d.a,{text:"Me",style:{position:"absolute",left:100,top:32}}))),s.createElement(f.a,{direction:"row",gap:"medium",margin:{bottom:"small",top:"medium"}}))}}]),t}(s.Component);t.a=b;var y=Object(p.default)(f.a)(v())},ZryU:function(e,t,n){"use strict";var a=n("0iUn"),r=n("sLSF"),o=n("MI3g"),i=n("a7VT"),l=n("Tit0"),u=n("q1tI"),s=n("xy4l"),c=n("otPn"),f=n("ACV0"),p=n("/MKj"),d=n("5vTU"),m=n("IIBO"),h=n("P3Am"),g=n("1OXE"),v=n("hGzJ"),b=n("gTk/"),y=n("J2ZV"),O=function(e){function t(){return Object(a.default)(this,t),Object(o.default)(this,Object(i.default)(t).apply(this,arguments))}return Object(l.default)(t,e),Object(r.default)(t,[{key:"render",value:function(){var e=this.props.loan,t=e.loanId,n=e.debt,a=e.principal,r=e.interestRate,o=e.status;return u.createElement(c.a,null,u.createElement(c.a,{direction:"row",gap:"medium"},u.createElement(m.a,{label:"Loan ID"},u.createElement(h.a,{value:t,disabled:!0})),u.createElement(m.a,{label:"Status"},u.createElement(h.a,{value:o,disabled:!0}))),u.createElement(c.a,{direction:"row",gap:"medium",margin:{bottom:"medium",top:"large"}},u.createElement(c.a,{basis:"1/3",gap:"medium"},u.createElement(m.a,{label:"Maximum borrow amount"},u.createElement(b.a,{value:a.toString(),tokenData:y,precision:12}))),u.createElement(c.a,{basis:"1/3",gap:"medium"},u.createElement(m.a,{label:"Debt"},u.createElement(b.a,{value:n.toString(),tokenData:y,precision:12}))),u.createElement(c.a,{basis:"1/3",gap:"medium"},u.createElement(m.a,{label:"Interest rate"},u.createElement(v.a,{value:Object(g.e)(r),suffix:"%",disabled:!0})))))}}]),t}(u.Component),x=n("ln6h"),w=n.n(x),E=n("O40h"),k=n("AT/M"),S=n("vYYK"),j=n("T1Te"),P=n("XDYV"),I=n("9UR+"),C=n("r6I4"),T=n("go9o"),D=n("+i6/"),F=n("OZ/i"),N=n.n(F),A=function(e){function t(){var e,n;Object(a.default)(this,t);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=Object(o.default)(this,(e=Object(i.default)(t)).call.apply(e,[this].concat(l))),Object(S.a)(Object(k.default)(n),"borrow",Object(E.default)(w.a.mark(function e(){var t,a,r,o,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.transactionSubmitted&&n.props.transactionSubmitted("Borrowing initiated. Please confirm the pending transactions in MetaMask. Processing may take a few seconds."),e.prev=1,e.next=4,Object(D.a)();case 4:return t=n.state.borrowAmount,a=n.props,r=a.loan,o=a.tinlake,e.next=8,Object(I.a)(o,r,t);case 8:if(!(i=e.sent)||!i.errorMsg){e.next=12;break}return n.props.responseReceived&&n.props.responseReceived(null,"Borrowing failed. ".concat(i.errorMsg)),e.abrupt("return");case 12:n.props.responseReceived&&n.props.responseReceived("Borrowing successful. Please check your wallet.",null),n.props.loadLoan&&n.props.loadLoan(o,r.loanId),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),n.props.responseReceived&&n.props.responseReceived(null,"Borrowing failed. ".concat(e.t0)),console.log(e.t0);case 20:case"end":return e.stop()}},e,null,[[1,16]])}))),n}return Object(l.default)(t,e),Object(r.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.loan,n=e.tinlake,a=e.loadAnalyticsData;this.setState({borrowAmount:t.principal||"0"}),a&&a(n)}},{key:"render",value:function(){var e=this,t=this.state.borrowAmount,n=this.props,a=n.loan,r=n.analytics,o="0"!==a.principal.toString(),i=r&&r.data&&r.data.availableFunds||"0",l=new N.a(t).cmp(new N.a(a.principal))>0,s=new N.a(t).cmp(new N.a(i))>0,f=!l&&!s&&o;return u.createElement(c.a,{basis:"1/4",gap:"medium",margin:{right:"large"}},u.createElement(c.a,{gap:"medium"},u.createElement(m.a,{label:"Borrow amount"},u.createElement(b.a,{limit:t.toString(),tokenData:y,precision:18,onValueChanged:function(t){return e.setState({borrowAmount:Object(g.d)(t,18)})}}))),u.createElement(c.a,{align:"start"},u.createElement(j.a,{onClick:this.borrow,primary:!0,label:"Borrow",disabled:!f}),s&&u.createElement(c.a,{margin:{top:"small"}},"Available funds exceeded. ",u.createElement("br",null),"Amount has to be lower then ",u.createElement("br",null),u.createElement(P.a,{weight:"bold"},"".concat(Object(g.a)(i,18)))),l&&!s&&u.createElement(c.a,{margin:{top:"small"}},"Max borrow amount exceeded.   ",u.createElement("br",null),"Amount has to be lower then ",u.createElement("br",null),u.createElement(P.a,{weight:"bold"},"".concat(Object(g.a)(a.principal,18))))))}}]),t}(u.Component),M=Object(p.b)(function(e){return e},{loadLoan:s.b,transactionSubmitted:C.d,responseReceived:C.c,loadAnalyticsData:T.b})(A),R=function(e){function t(){var e,n;Object(a.default)(this,t);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=Object(o.default)(this,(e=Object(i.default)(t)).call.apply(e,[this].concat(l))),Object(S.a)(Object(k.default)(n),"repay",Object(E.default)(w.a.mark(function e(){var t,a,r,o,i,l,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.a)();case 3:return n.state.repayAmount,t=n.props,a=t.transactionSubmitted,r=t.responseReceived,o=t.loadLoan,i=t.loan,l=t.tinlake,a&&a("Repayment initiated. Please confirm the pending transactions in MetaMask. Processing may take a few seconds."),e.next=8,Object(I.h)(l,i);case 8:if(!(u=e.sent)||!u.errorMsg){e.next=12;break}return r&&r(null,"Repayment failed. ".concat(u.errorMsg)),e.abrupt("return");case 12:r&&r("Repayment successful. Please check your wallet.",null),o&&o(l,i.loanId),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),C.c&&Object(C.c)(null,"Repayment failed. ".concat(e.t0)),console.log(e.t0);case 20:case"end":return e.stop()}},e,null,[[0,16]])}))),n}return Object(l.default)(t,e),Object(r.default)(t,[{key:"componentWillMount",value:function(){var e=this.props.loan;this.setState({repayAmount:e.debt||"0"})}},{key:"render",value:function(){var e=this,t=this.state.repayAmount,n="0"!==this.props.loan.debt.toString();return u.createElement(c.a,{basis:"1/4",gap:"medium",margin:{right:"large"}},u.createElement(c.a,{gap:"medium"},u.createElement(m.a,{label:"Repay amount"},u.createElement(b.a,{limit:t.toString(),tokenData:y,precision:18,onValueChanged:function(t){return e.setState({repayAmount:Object(g.d)(t,18)})}}))),u.createElement(c.a,{align:"start"},u.createElement(j.a,{onClick:this.repay,primary:!0,label:"Repay",disabled:!n})))}}]),t}(u.Component),V=Object(p.b)(function(e){return e},{loadLoan:s.b,transactionSubmitted:C.d,responseReceived:C.c})(R),L=n("02fx"),_=n("YwDK"),B=n("2PWv"),U=function(e){function t(){return Object(a.default)(this,t),Object(o.default)(this,Object(i.default)(t).apply(this,arguments))}return Object(l.default)(t,e),Object(r.default)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.tinlake,n=e.loanId,a=e.loadLoan,r=e.resetTransactionState,o=e.loadUserProxies;n&&a(t,n),r&&r(),o&&o()}},{key:"componentWillUnmount",value:function(){this.props.resetTransactionState&&this.props.resetTransactionState()}},{key:"render",value:function(){var e=this.props,t=e.loans,n=e.loanId,a=e.tinlake,r=e.auth,o=e.transactions,i=t,l=i.loan,s=i.loanState;if(null===s||"loading"===s)return null;if("not found"===s)return u.createElement(d.a,{margin:"medium",type:"error"},"Could not find loan ",n);var p=r&&r.user,m=(p&&p.permissions.canSetInterestRate,p&&l&&p.proxies.includes(l.ownerOf));return o&&o.transactionState&&"processing"===o.transactionState?u.createElement(L.a,{height:"calc(100vh - 89px - 84px)",message:o.loadingMessage||"Processing Transaction. This may take a few seconds. Please wait..."}):u.createElement(c.a,null,o&&o.successMessage&&u.createElement(c.a,{margin:{bottom:"large"}},u.createElement(d.a,{type:"success"},o.successMessage," ")),o&&o.errorMessage&&u.createElement(c.a,{margin:{bottom:"large"}},u.createElement(d.a,{type:"error"},o.errorMessage)),u.createElement(O,{loan:l}),l&&"closed"!==l.status&&u.createElement(c.a,null,m&&u.createElement(c.a,{margin:{top:"large",bottom:"large"}},u.createElement(c.a,{gap:"medium",align:"start",margin:{bottom:"medium"}},u.createElement(f.a,{level:"5",margin:"none"},"Borrow / Repay ")),u.createElement(c.a,{direction:"row"},u.createElement(M,{loan:l,tinlake:a}," "),u.createElement(V,{loan:l,tinlake:a}," ")))),l&&l.nft&&u.createElement(_.a,{data:l.nft,authedAddr:a.ethConfig.from}))}}]),t}(u.Component);t.a=Object(p.b)(function(e){return e},{loadLoan:s.b,resetTransactionState:C.b,loadUserProxies:B.d})(U)},hGzJ:function(e,t,n){"use strict";var a=n("kOwS"),r=n("qNsG"),o=n("q1tI"),i=n.n(o),l=n("mDiV"),u=n.n(l),s=n("P3Am"),c=function(e){var t=e.value,n=e.precision,o=e.prefix,l=e.suffix,c=e.onValueChange,f=Object(r.a)(e,["value","precision","prefix","suffix","onValueChange"]);return i.a.createElement(u.a,Object(a.a)({thousandSeparator:",",decimalScale:n,fixedDecimalScale:!0,allowNegative:!1,prefix:o,suffix:l,customInput:s.a,value:t,onValueChange:c},f))};c.defaultProps={value:"0",precision:2,prefix:"",suffix:""},t.a=c},mDiV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("17x9")),r=i(n("q1tI")),o=n("5Ptj");function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d={thousandSeparator:a.default.oneOfType([a.default.string,a.default.oneOf([!0])]),decimalSeparator:a.default.string,thousandsGroupStyle:a.default.oneOf(["thousand","lakh","wan"]),decimalScale:a.default.number,fixedDecimalScale:a.default.bool,displayType:a.default.oneOf(["input","text"]),prefix:a.default.string,suffix:a.default.string,format:a.default.oneOfType([a.default.string,a.default.func]),removeFormatting:a.default.func,mask:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),value:a.default.oneOfType([a.default.number,a.default.string]),defaultValue:a.default.oneOfType([a.default.number,a.default.string]),isNumericString:a.default.bool,customInput:a.default.elementType,allowNegative:a.default.bool,allowEmptyFormatting:a.default.bool,onValueChange:a.default.func,onKeyDown:a.default.func,onMouseUp:a.default.func,onChange:a.default.func,onFocus:a.default.func,onBlur:a.default.func,type:a.default.oneOf(["text","tel","password"]),isAllowed:a.default.func,renderText:a.default.func,getInputRef:a.default.func},m={displayType:"input",decimalSeparator:".",thousandsGroupStyle:"thousand",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,allowEmptyFormatting:!1,isNumericString:!1,type:"text",onValueChange:o.noop,onChange:o.noop,onKeyDown:o.noop,onMouseUp:o.noop,onFocus:o.noop,onBlur:o.noop,isAllowed:o.returnTrue,getInputRef:o.noop},h=function(e){function t(e){var n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,n=!(r=c(t).call(this,e))||"object"!==l(r)&&"function"!=typeof r?p(a):r;var o=e.defaultValue;n.validateProps();var i=n.formatValueProp(o);return n.state={value:i,numAsString:n.removeFormatting(i)},n.selectionBeforeInput={selectionStart:0,selectionEnd:0},n.onChange=n.onChange.bind(p(p(n))),n.onKeyDown=n.onKeyDown.bind(p(p(n))),n.onMouseUp=n.onMouseUp.bind(p(p(n))),n.onFocus=n.onFocus.bind(p(p(n))),n.onBlur=n.onBlur.bind(p(p(n))),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.default.Component),n=t,(a=[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state,a=this.focusedElm,r=n.value,o=n.numAsString,i=void 0===o?"":o;if(e!==t){this.validateProps();var l=this.formatNumString(i),u=void 0===t.value?l:this.formatValueProp(),s=this.removeFormatting(u),c=parseFloat(s),f=parseFloat(i);(isNaN(c)&&isNaN(f)||c===f)&&l===r&&(null!==a||u===r)||this.updateValue({formattedValue:u,numAsString:s,input:a})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.decimalScale,n=this.getSeparators().decimalSeparator,a=this.getNumberRegex(!0),r="-"===e[0];r&&(e=e.replace("-","")),n&&0===t&&(e=e.split(n)[0]);var i=(e=(e.match(a)||[]).join("").replace(n,".")).indexOf(".");return-1!==i&&(e="".concat(e.substring(0,i),".").concat(e.substring(i+1,e.length).replace(new RegExp((0,o.escapeRegExp)(n),"g"),""))),r&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,a=n.format,r=n.decimalScale,i=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!i||0===r||t||a?"":"|"+(0,o.escapeRegExp)(i)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props.decimalSeparator,t=this.props.thousandSeparator;return!0===t&&(t=","),{decimalSeparator:e,thousandSeparator:t}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"==typeof n?n:n[e]||" "}},{key:"getValueObject",value:function(e,t){var n=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(n)?void 0:n}}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,a=t.thousandSeparator;if(n===a)throw new Error("\n          Decimal separator can't be same as thousand separator.\n          thousandSeparator: ".concat(a,' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: ').concat(n," (default value for decimalSeparator is .)\n       "));if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask ".concat(e," should not contain numeric character;\n        "))}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,o.setCaretPosition)(e,t),setTimeout(function(){e.value===n&&(0,o.setCaretPosition)(e,t)},0)}},{key:"correctCaretPosition",value:function(e,t,n){var a=this.props,r=a.prefix,i=a.suffix,l=a.format;if(""===e)return 0;if(t=(0,o.clamp)(t,0,e.length),!l){var u="-"===e[0];return(0,o.clamp)(t,r.length+(u?1:0),e.length-i.length)}if("function"==typeof l)return t;if("#"===l[t]&&(0,o.charIsNumber)(e[t]))return t;if("#"===l[t-1]&&(0,o.charIsNumber)(e[t-1]))return t;var s=l.indexOf("#"),c=l.lastIndexOf("#");t=(0,o.clamp)(t,s,c+1);for(var f=l.substring(t,l.length).indexOf("#"),p=t,d=t+(-1===f?0:f);p>s&&("#"!==l[p]||!(0,o.charIsNumber)(e[p]));)p-=1;return!(0,o.charIsNumber)(e[d])||"left"===n&&t!==s||t-p<d-t?(0,o.charIsNumber)(e[p])?p+1:p:d}},{key:"getCaretPosition",value:function(e,t,n){var a,r,o=this.props.format,i=this.state.value,l=this.getNumberRegex(!0),u=(e.match(l)||[]).join(""),s=(t.match(l)||[]).join("");for(a=0,r=0;r<n;r++){var c=e[r]||"",f=t[a]||"";if((c.match(l)||c===f)&&("0"!==c||!f.match(l)||"0"===f||u.length===s.length)){for(;c!==t[a]&&a<t.length;)a++;a++}}return"string"!=typeof o||i||(a=t.length),a=this.correctCaretPosition(t,a)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,a=t.prefix,r=t.suffix;if(!n&&e){var o="-"===e[0];o&&(e=e.substring(1,e.length));var i=(e=a&&0===e.indexOf(a)?e.substring(a.length,e.length):e).lastIndexOf(r);e=r&&-1!==i&&i===e.length-r.length?e.substring(0,i):e,o&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter(function(e){return""!==e}),n=0,a="",r=0,o=t.length;r<=o;r++){var i=t[r]||"",l=r===o?e.length:e.indexOf(i,n);if(-1===l){a=e;break}a+=e.substring(n,l),n=l+i.length}return(a.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,a=t.removeFormatting;return e?(n?e="string"==typeof n?this.removePatternFormatting(e):"function"==typeof a?a(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,a=t.split(""),r=0,o=t.length;r<o;r++)"#"===t[r]&&(a[r]=e[n]||this.getMaskAtIndex(n),n+=1);return a.join("")}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,a=t.fixedDecimalScale,r=t.prefix,i=t.suffix,l=t.allowNegative,u=t.thousandsGroupStyle,s=this.getSeparators(),c=s.thousandSeparator,f=s.decimalSeparator,p=-1!==e.indexOf(".")||n&&a,d=(0,o.splitDecimal)(e,l),m=d.beforeDecimal,h=d.afterDecimal,g=d.addNegation;return void 0!==n&&(h=(0,o.limitToScale)(h,n,a)),c&&(m=(0,o.applyThousandSeparator)(m,c,u)),r&&(m=r+m),i&&(h+=i),g&&(m="-"+m),e=m+(p&&f||"")+h}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props,n=t.format,a=t.allowEmptyFormatting,r=e;return r=""!==e||a?"-"!==e||n?"string"==typeof n?this.formatWithPattern(r):"function"==typeof n?n(r):this.formatAsNumber(r):"-":""}},{key:"formatValueProp",value:function(e){var t=this.props,n=t.format,a=t.decimalScale,r=t.fixedDecimalScale,i=t.allowEmptyFormatting,l=this.props,u=l.value,s=void 0===u?e:u,c=l.isNumericString,f=!s&&0!==s;return f&&i&&(s=""),f&&!i?"":("number"==typeof s&&(s=s.toString(),c=!0),"Infinity"===s&&c&&(s=""),c&&!n&&"number"==typeof a&&(s=(0,o.roundToPrecision)(s,a,r)),c?this.formatNumString(s):this.formatInput(s))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),a=new RegExp("(-)(.)*(-)"),r=n.test(e),o=a.test(e);return e=e.replace(/-/g,""),r&&!o&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.format||(e=this.removePrefixAndSuffix(e),e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,a=n.format,r=n.prefix,o=n.suffix,i=n.decimalScale,l=n.fixedDecimalScale,u=this.getSeparators().decimalSeparator;return"string"==typeof a&&"#"!==a[e]||!(a||!(e<r.length||e>=t.length-o.length||i&&l&&t[e]===u))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var a=e;a<t;a++)if(this.isCharacterAFormat(a,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var a=this.props,r=a.format,i=a.allowNegative,l=a.prefix,u=a.suffix,s=this.getSeparators().decimalSeparator,c=this.state.numAsString||"",f=this.selectionBeforeInput,p=f.selectionStart,d=f.selectionEnd,m=(0,o.findChangedIndex)(t,n),h=m.start,g=m.end;if(!r&&"."!==s&&h===g&&"."===n[p])return n.substr(0,p)+s+n.substr(p+1,n.length);var v=r?0:l.length,b=t.length-(r?0:u.length);if(n.length>t.length||!n.length||h===g||0===p&&d===t.length||p===v&&d===b)return n;if(this.checkIfFormatGotDeleted(h,g,t)&&(n=t),!r){var y=this.removeFormatting(n),O=(0,o.splitDecimal)(y,i),x=O.beforeDecimal,w=O.afterDecimal,E=O.addNegation,k=e<n.indexOf(s)+1;if(y.length<c.length&&k&&""===x&&!parseFloat(w))return E?"-":""}return n}},{key:"updateValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.noop,a=e.formattedValue,r=e.input,i=e.numAsString,l=e.caretPos,u=this.props.onValueChange,s=this.state.value;if(r){if(!l){var c=e.inputValue||r.value,f=(0,o.getCurrentCaretPosition)(r);l=this.getCaretPosition(c,a,f)}r.value=a,this.setPatchedCaretPosition(r,l,a)}void 0===i&&(i=this.removeFormatting(a)),a!==s?this.setState({value:a,numAsString:i},function(){u(t.getValueObject(a,i)),n()}):n()}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,a=this.state,r=this.props,i=r.isAllowed,l=a.value||"",u=(0,o.getCurrentCaretPosition)(t);n=this.correctInputValue(u,l,n);var s=this.formatInput(n)||"",c=this.removeFormatting(s);i(this.getValueObject(s,c))||(s=l),this.updateValue({formattedValue:s,numAsString:c,inputValue:n,input:t},function(){r.onChange(e)})}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,a=t.format,r=t.onBlur,i=n.numAsString,l=n.value;if(this.focusedElm=null,!a){i=(0,o.fixLeadingZero)(i);var u=this.formatNumString(i);if(u!==l)return e.persist(),void this.updateValue({formattedValue:u,numAsString:i},function(){r(e)})}r(e)}},{key:"onKeyDown",value:function(e){var t,n=e.target,a=e.key,r=n.selectionStart,o=n.selectionEnd,i=n.value,l=void 0===i?"":i,u=this.props,s=u.decimalScale,c=u.fixedDecimalScale,f=u.prefix,p=u.suffix,d=u.format,m=u.onKeyDown,h=(u.onValueChange,void 0!==s&&c),g=this.getNumberRegex(!1,h),v=new RegExp("-"),b="string"==typeof d;if(this.selectionBeforeInput={selectionStart:r,selectionEnd:o},"ArrowLeft"===a||"Backspace"===a?t=r-1:"ArrowRight"===a?t=r+1:"Delete"===a&&(t=r),void 0!==t&&r===o){var y=t,O=b?d.indexOf("#"):f.length,x=b?d.lastIndexOf("#")+1:l.length-p.length;if("ArrowLeft"===a||"ArrowRight"===a){var w="ArrowLeft"===a?"left":"right";y=this.correctCaretPosition(l,t,w)}else if("Delete"!==a||g.test(l[t])||v.test(l[t])){if("Backspace"===a&&!g.test(l[t]))if(r<=O+1&&"-"===l[0]&&void 0===d){var E=l.substring(1);e.persist(),this.updateValue({formattedValue:E,caretPos:y,input:n})}else if(!v.test(l[t])){for(;!g.test(l[y-1])&&y>O;)y--;y=this.correctCaretPosition(l,y,"left")}}else for(;!g.test(l[y])&&y<x;)y++;(y!==t||t<O||t>x)&&(e.preventDefault(),this.setPatchedCaretPosition(n,y,l)),e.isUnitTestRun&&this.setPatchedCaretPosition(n,y,l),this.props.onKeyDown(e)}else m(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,a=t.selectionEnd,r=t.value,o=void 0===r?"":r;if(n===a){var i=this.correctCaretPosition(o,n);i!==n&&this.setPatchedCaretPosition(t,i,o)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),this.focusedElm=e.target,setTimeout(function(){var n=e.target,a=n.selectionStart,r=n.selectionEnd,o=n.value,i=void 0===o?"":o,l=t.correctCaretPosition(i,a);l===a||0===a&&r===i.length||t.setPatchedCaretPosition(n,l,i),t.props.onFocus(e)},0)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,a=e.customInput,i=e.renderText,l=e.getInputRef,s=this.state.value,c=(0,o.omit)(this.props,d),f=u({},c,{type:t,value:s,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return i?i(s)||null:r.default.createElement("span",u({},c,{ref:l}),s);if(a){var p=a;return r.default.createElement(p,f)}return r.default.createElement("input",u({},f,{ref:l}))}}])&&s(n.prototype,a),i&&s(n,i),t}();h.propTypes=d,h.defaultProps=m;var g=h;t.default=g,e.exports=t.default},qK8O:function(e,t,n){"use strict";n.r(t);var a=n("ln6h"),r=n.n(a),o=n("O40h"),i=n("0iUn"),l=n("sLSF"),u=n("MI3g"),s=n("a7VT"),c=n("Tit0"),f=n("q1tI"),p=n("2+e4"),d=n("ZryU"),m=n("otPn"),h=n("ACV0"),g=n("Gb8u"),v=n("xJFt"),b=n("vnk9"),y=n("8kid"),O=n("wZwN"),x=n("5vTU"),w=function(e){function t(){return Object(i.default)(this,t),Object(u.default)(this,Object(s.default)(t).apply(this,arguments))}return Object(c.default)(t,e),Object(l.default)(t,[{key:"render",value:function(){var e=this.props.loanId;return f.createElement(m.a,{align:"center",pad:{horizontal:"small"}},f.createElement(g.a,{selectedRoute:"/loans/loan",menuItems:b.a}),f.createElement(m.a,{justify:"center",direction:"row"},f.createElement(m.a,{width:"xlarge"},f.createElement(v.a,null,f.createElement(m.a,{direction:"row",gap:"small",align:"center"},f.createElement(y.a,{href:"/loans"}),f.createElement(h.a,{level:"3"},"Loan Details"))),f.createElement(p.a,{render:function(t){return f.createElement(O.a,{tinlake:t,waitForAuthentication:!0,waitForAuthorization:!0,render:function(n){return n&&"loaded"===n.state&&n.user?f.createElement(m.a,null," ",e&&f.createElement(d.a,{auth:n,tinlake:t,loanId:e})," "):f.createElement(x.a,{margin:"medium",type:"error"},"Please authenticate to access this page ")}})}}))))}}],[{key:"getInitialProps",value:function(){var e=Object(o.default)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,e.abrupt("return",{loanId:n.loanId});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),t}(f.Component);t.default=w}},[["0se9","5d41","9da1"]]]);